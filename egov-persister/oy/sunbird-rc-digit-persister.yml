serviceMaps:
  serviceName: vc-service-delivery
  mappings:
  - version: 1.0
    description: Saves VC mapping data
    fromTopic: oy-save-vc-service-delivery-topic
    isTransaction: true
    queryMaps:
    - query: INSERT INTO oy.eg_vc_service_delivery (id, certificateId, serviceTaskId,
        beneficiaryId, distributedBy, createdBy, lastModifiedBy,createdTime, lastModifiedTime)
        VALUES (?,?,?,?,?,?,?,?,?);
      basePath: $.*
      jsonMaps:
      - jsonPath: $.*.id
      - jsonPath: $.*.certificateId
      - jsonPath: $.*.serviceTaskId
      - jsonPath: $.*.beneficiaryId
      - jsonPath: $.*.distributedBy
      - jsonPath: $.*.auditDetails.createdBy
      - jsonPath: $.*.auditDetails.lastModifiedBy
      - jsonPath: $.*.auditDetails.createdTime
      - jsonPath: $.*.auditDetails.lastModifiedTime
  - version: 1.0
    description: Updates VC mapping data
    fromTopic: oy-update-vc-service-delivery-topic
    isTransaction: true
    queryMaps:
    - query: UPDATE oy.eg_vc_service_delivery SET certificateId=?, lastModifiedBy=?,
        lastModifiedTime=? WHERE serviceTaskId = ?
      basePath: $.*
      jsonMaps:
      - jsonPath: $.*.certificateId
      - jsonPath: $.*.auditDetails.lastModifiedBy
      - jsonPath: $.*.auditDetails.lastModifiedTime
